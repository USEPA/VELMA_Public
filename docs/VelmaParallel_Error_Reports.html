<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width">
    <meta name="charset" content="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://requirejs.org/docs/release/2.3.7/minified/require.js"> </script>
    <script src="js/search.js" type="module"> </script>
    <title> </title>
  </head>
  <body class="bg-primary">
    <div class="header blue-base">
      <nav class="navbar blue-base navbar-expand"><a class="navbar-brand" href="/index.html">VELMA 2.2 HOME</a>
        <ul class="navbar-nav no-bullets">
          <li class="nav-item dropdown">VELMA 2.0 Manual
            <ul class="nav-dropdown blue-light">
              <li class="nav-item"><a class="nav-link" href="/intro.html"><span>I. Intro</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/changes.html"><span>II. Changes from 1.0</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/about.html"><span>III. About</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/input_files.html"><span>IV. Input Files </span></a></li>
              <li class="nav-item"><a class="nav-link" href="/new_sim_config.html"><span>V. Sim Config</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/parameter_config.html"><span>VI. Parameter Config</span></a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">Appendicies
            <ul class="nav-dropdown blue-light">
              <li class="nav-item"><a class="nav-link" href="/appendix_1.html"><span>Overview of VELMA's Leaf-Stem-Root (LSR) Plant Biomass Submodel</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/appendix_2.html"><span>Initializing a Spatial Data Pool Using an ASCII Grid</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/appendix_3.html"><span>Creating Initial ASCII Grid Chemistry Spatial Data Pools</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/appendix_4.html"><span>Overview of VELMA Simulator Output</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/appendix_5.html"><span>Generating daily temperature and precipitation grids for running VELMA</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/appendix_6.html"><span>Hydrological and Biochemical Model Descriptions</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/appendix_7.html"><span>Creating Flat-Processed DEM Data For The VELMA Simulator</span></a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">Supplemental Info (VELMA 2.1)
            <ul class="nav-dropdown blue-light">
              <li class="nav-item"><a class="nav-link" href="/supplement-a1.html"><span>Organic Contaminant Modeling Using VELMA</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-a2.html"><span>Configure VELMA for Simulating Contaminant Fate and Transport</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-a3.html"><span>VELMA Contaminant Modeling Demonstration</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-a4.html"><span>Adding Stormwater Drains for Urban &amp; Mixed-Use Watershed Applications</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-b1.html"><span>Creating Flat-Processed DEM Data for the VELMA Simulator</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-b2.html"><span>JPDEM Cell Highlighter</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-b3.html"><span>JPDEM Flow Accumulation (Facc) Threshold Display</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-b4.html"><span>JPDEM Flow Test Tool</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-b5.html"><span>JPDEM Saving Data to Files</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-b6.html"><span>JPDEM User-Specified Map Borders</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-b7.html"><span>JPDEM User-Specified Border Mask</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-b8.html"><span>JPDEM for Viewing Map Differences</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-b9.html"><span>JPDEM Sub-Reach Delineations</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-b10.html"><span>Flow Path Modification with the JPDEM Channel Cutter</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-c1.html"><span>VELMA Reach Mapping</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-c2.html"><span>How to Run VELMA in Parallel Mode</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-c3.html"><span>Rationale for Parallel Velma and Reach Segmentation</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d1.html"><span>Acquisition &amp; Generation of VELMA Input Data</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d2.html"><span>Soil Data Mapping and Parameter Initialization</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d3.html"><span>Initialize a Spatial Data Pool Using an Ascii Grid</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d4.html"><span>Create Initial Soil and Plant Chemistry Spatial (ASCII Grid) Data Pools</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d5.html"><span>Create Land-zoning Maps for a VELMA Application</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d6.html"><span>Add Georeferenced Projection Information to VELMA Output ASCII Maps</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d7a.html"><span>Create Multiple-Location Weather Drivers</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d7b.html"><span>Development of Statistical Models Based on Monthly PRISM / Daymet Data</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d8.html"><span>Cell Data Writer Configuration</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d9.html"><span>Set Up VELMA biomass Outputs as Inputs to BlueSky</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-d10.html"><span>Default Tidewater Model Configuration</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-e1.html"><span>Mapping Surface Layer Permeabilities</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-e2.html"><span>VELMA Surface Chemistry Pools</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-e3.html"><span>Deposition of Surface Chemicals</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-e4.html"><span>Implementing Green Roof Applications</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-e5.html"><span>Irrigation Disturbance</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-e6.html"><span>Groundwater Storage Mechanism</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/supplement-e7.html"><span>Spatial Data Writer Key Words for Generating ASCII VELMA Outputs for Data Visualization</span></a></li>
            </ul>
          </li>
          <li class="nav-item dropdown"> <a class="nav-link" href="/dev_info.html"><span>Developer Info</span></a>
            <ul class="nav-dropdown blue-light">
              <li class="nav-item"><a class="nav-link" href="/GetVelma_ForEclipse.html"><span>Clone Github to Local Machine</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/CellSpecificBurnDisturbance_Configuration_Guide.html"><span>Cell Specific Burn Disturbance Config Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/Configuration_Checker_Guide.html"><span>Configuration Checker Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/DefaultSedimentModel_Configuration_Guide.html"><span>Default Sediment Model Config Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/Sediment_Output_Data_Summary.html"><span>Sediment Output Data Summary</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/ForestBurnLsrDisturbanceModel_Overview.html"><span>Forest Burn LSR Disturbance Model</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/JPDEM_ReachMapping_Demonstration.html"><span>JPDEM Reaching Mapping Demo</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/MinMaxAirT_WeatherDrivers.html"><span>Min Max Air Temp Weather Drivers</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/ModifySpatialDataByMap_Guide.html"><span>Modify Spatial Data by Map Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/ObsRunoff_and_NaNs.html"><span>OBS Runnoff and NaNs</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/OrganicContaminant_Overview.html"><span>Organic Contaminant Overview</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/OrganicContaminant_Remediation_Configuration_Guide.html"><span>Organic Contaminant Redemption Config Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/OrganicContaminant_Tracer_Configuration_Guide.html"><span>Organic Contaminant Tracter Config Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/ReachSpecificObservedRunnoff.html"><span>Reach Specific Observed Runnoff</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/SnowDepth_Initialization_Guide.html"><span>Snow Depth Initialization Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/TopoFiles_Output_Summary.html"><span>Topo Files Output Summary </span></a></li>
              <li class="nav-item"><a class="nav-link" href="/VelmaParallel_Error_Reports.html"><span>Velma Parallel Error Reports</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/VelmaParallel_With_Multiple_Maps.html"><span>Velma Parallel With Multiple Maps </span></a></li>
              <li class="nav-item"><a class="nav-link" href="/WaterDrainDisturbanceModel_Overview.html"><span>Water Drain Disturbance Model</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/VelmaSimulatorCmdLine_Overview.html"><span>Velma Sim Cmd Line Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/VelmaSimulatorAltCmdLine_Overview.html"><span>Velma Sim Alt Cmd Line Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/SurfaceEvaporation_Overview.html"><span>Surface Evaporation Overview</span></a></li>
            </ul>
          </li>
          <li class="nav-item dropdown"> <a class="nav-link" href="/dev_utils.html"><span>Developer Utils</span></a>
            <ul class="nav-dropdown blue-light">
              <li class="nav-item"><a class="nav-link" href="/AscMapOct_Guide.html"><span>Ascii Map Oct Guide </span></a></li>
              <li class="nav-item"><a class="nav-link" href="/AscRangeMask_Guide.html"><span>Ascii Range Mask Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/MoeVelGenerator_Guide.html"><span>MOEA-to-VELMA Configuration Generator</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/NashSutcliffeCalculator_Guide.html"><span>Tool for Computing Nash-Sutcliffe Coefficients</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/NseQuarts_Guide.html"><span>NseQuarts Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/VelmaSimRunner_QuickRef.html"><span>VelmaSimRunner Quick Reference</span></a></li>
              <li class="nav-item"><a class="nav-link" href="/VelmaSimRunner.html"><span>VelmaSimRunner Full Guide</span></a></li>
            </ul>
          </li>
        </ul>
      </nav>
      <div class="search-bar">
        <input id="search" type="search" name="search" placeholder="Search VELMA Docs" autocomplete="off" list="search-suggestions">
      </div>
    </div>
    <div class="main_body container">
      <h1>Analyzing VelmaParalleCmdLine Failed Runs</h1>
      <h2>Overview</h2>
      <p>When VelmaParallelCmdLine is invoked, one of the first things it does is create a top-level results directory.<br> The directory name starts with <code>MULTI_</code>, plus the name specified in the simulation configuration .xml file's <code>run_index</code> parameter.<br> (Example: if <code>run_index</code> is <code>MyConfiguration</code>, the top-level directory is named <code>MULTI_MyConfiguration</code>.)</p>
      <p>After creating the top-level results directory, VelmaParallelCmdLine configures a runtime logger and creates a file in the top-level results directory named VelmaParalleRunlog.txt. This top-level log file contains start/end messages for each sub-reach that VelmaParallelCmdLine attempts to run, along with whether each sub-reach ran to completion or failed. In all but the most abrupt runtime failures the VelmaParallelRunlog.txt file will contain log messages documenting the runtime behavior of the overall parallel run.</p>
      <p>Additionally if any of the sub-reaches started and run by VelmaParallelCmdLine fail, VelmaParallelCmdLine creates a subdirectory named <code>.\FAILED_Results</code> directly underneath the top-level results directory. If your top-level results directory contains a <code>.\FAILED_Results</code> directory, at least one of your sub-reaches failed to run correctly to completion.</p>
      <p>You can get a quick idea of how many runs failed, by looking at the contents of the <code>.\FAILED_Results</code> directory: it will contain a <code>FAILED_Results_<n>_log.txt</code> file (where <code><n></code> is the cell index of a specfic sub-reach outlet) for each sub-reach that failed to run. The contents of these "fail-log" files are the <code>WARNING</code> and <code>SEVERE</code> log messages from the specific sub-reach <code>.\Results_<n>\GlobalStateLog.txt</code> runtime log file.</p>
      <p><strong>Rule of Thumb</strong>: Look in VelmaParallelRunlog.txt for overview/summary information, and look in the fail-log files for the error details of specific, failed reaches.</p>
      <hr>
      <h2>Heuristics for Analyzing VelmaParallelCmdLine Failures</h2>
      <p>Things to check when VelmaParallelCmdLine doesn't run as as expected.</p>
      <h4><strong>Is the expected top-level directory missing?</strong></h4>
      <p>If no top-level directory exists, the VelmaParallelCmdLine invocation failed very quickly and abruptly. In these cases, the fault may be a mis-typed command line parameter. Check your console output for information or clues.<br> Here is is the console output for a VelmaParallelCmdLine with a mis-type command line parameter (<code>maxProcessors</code> instead of <code>maxProcesses</code>):</p>
      <pre><code>SEVERE 2021-10-12 15:04:02 VelmaParallelCmdLine: FAIL! Unrecognized optional argument="--maxProcessors=2"
CONFIG 2021-10-12 15:04:02 VelmaParallelCmdLine: FINISHED Parallel Processing outcome=FAILED finalExitStatus=1</code></pre>
      <h4><strong>Did you re-run an existing, completed result?</strong></h4>
      <p>When you repeatly run VelmaSimulatorCmdLine with the same simulation configuration .xml file, it runs the configuratione multiple times, and generates a new results directory for each run. Each directory (after the initial run) has a sequence number (<code>_<n></code>) added as a suffix, to keep track of and distiguish each run.<br> But: <strong>VelmaParallelCmdLine does not behave like VelmaSimulatorCmdLine in this regard.</strong><br> VelmaParallelCmdLine allows "restarting" a prior, partially-failed run (to avoid re-doing parts that initially succeeded). Because of this, it assumes that you want to re-run in the exact same results directory as before. If your first run was completely successful, there is no further work to do, and VelmaParallelCmdLine will exit almost immediately.</p>
      <p>Check your console: if you see that the final message has <code>outcome=COMPLETED</code> and <code>finalExitStatus=0</code>, then you have likely tried to re-run a simulation that already ran completely correctly.<br> Here is an example of the type of full, final log message that characterizes this situation:</p>
      <pre><code>CONFIG 2021-10-12 14:29:04 VelmaParallelCmdLine: FINISHED Parallel Processing outcome=COMPLETED finalExitStatus=0</code></pre>
      <h4><strong>Are there dependency paradoxes?</strong></h4>
      <p>When VelmaParallelCmdLine is (re)started for a pre-existing, partially-completed simulation result, it checks whether any of the completed reaches depending "pending" reaches (i.e.) reaches that haven't been run yet. This is a relatively rare situation, but if it occurs it is not something VelmaParallelCmdLine can resolve. The <code>SEVERE</code> message:</p>
      <pre><code>FAIL! Cannot run parallel VELMA with completed reach dependency paradoxes.</code></pre>
      <p>is written to the VelmaParallelRunlog.txt file, and VelmaParallelCmdLine stops its run.<br> You will have to resolve the situation manually before re-re-starting the simulation run. One way to do this is to delete any completed <code>Results_*</code> sub-directories from the simulation's top-level results directory. (You can move the <code>Results_*</code> folders to some other location outside of the top-level results directory-tree instead of deleting them if you want to preserve their contents.) The VelmaParallelRunlog.txt file should contain a <code>SEVERE</code> message for each completed/paradox reach that has this form:</p>
      <pre><code>FAIL! Dependency paradox: completed reach outlet=<n> ...</code></pre>
      <p>Look for these messages to determine which completed/paradox <code>Results_*</code> sub-directories to delete or move.</p>
      <h4><strong>Does the top-level directory have a FAILED_Results sub-directory?</strong></h4>
      <p>When the <code>.\FAILED_Results</code> sub-directory exists, at least one of the simulation sub-reaches failed to run correctly to completion. The fail-log files in the sub-directory indicate the number of sub-reaches that failed, and the reach outlet-cell location that is part of each fail-log file name indicates the identity of specific failed reaches.</p>
      <h4><strong>What additional details exist?</strong></h4>
      <p>The reach outlet cell-index location numbers are consistent in all reporting. If there is a <code>.\FAILED_Results\FAILED_Results_<n>_log.txt</code> file, the same <code><n></code> in its name will show up in <code>.\Results_<n></code> directory, and in <code>... reach outlet=<n> ...</code> messages in the top-level VelmaParallelRunlog.txt file.<br> Look in the <code>.\Reasults_<n>\GlobalStateLog.txt</code> file (or alternate named file specified by the <code>globalStateLogFileName</code> parameter) for additional reach-specific log messages. All warning and severe message should have been copied to the <code>FAILED_Results_<n>_log.txt</code> fail-log file, but the surrounding log message may provide additional context and insight if the problem isn't evident in the fail-log file.<br> You can also grep (or <a><code>Select-String</code></a> in Powershell) to locate all the messages associated with <code><n></code>.<br> Here is an example using the Powershell command: <code>(select-string "reach outlet=3590" VelmaParallelRunlog.txt).Line</code></p>
      <pre><code>CONFIG 2021-10-12 14:26:42 VelmaParallelCmdLine: Independent reach outlet=3590 ready to run
INFO 2021-10-12 14:26:42 VelmaParallelCmdLine: STARTED reach outlet=3590 process=java.lang.ProcessImpl@52cc8049 memory="-Xmx1g"
INFO 2021-10-12 14:26:48 VelmaParallelCmdLine: FINISHED reach outlet=3590 outcome=FAILED process=java.lang.ProcessImpl@52cc8049 status=1
WARNING 2021-10-12 14:26:48 VelmaParallelCmdLine: FAILED reach outlet=3590 prevents dependent reach outlets=[1735, 3236, 2263] from running.</code></pre>
      <p>The above gives a concise summary of reach outlet=3590's runtime history (but no <em>details</em> as to why it failed -- look in the fail-log file or reach-specific global state log file for those.) Note: the (...).Line PowerShell syntax emits each line found without line numbers or other context; remember that the above lines are very likely <em>not</em> contiguous in the original log file.</p>
      <hr>
      <h2>Log Message Notes and Descriptions</h2>
      <h3>In VelmaParallelRunlog.txt</h3>
      <h4><strong>Log Message Format Notes</strong></h4>
      <p>All log messages start with 3 whitespace-separated fields: a status keyword, a date, and a time, in that order.</p>
      <ul>
        <li>The keyword is one of the following: <code>CONFIG</code>, <code>INFO</code>, <code>WARNING</code>, or <code>SEVERE</code>.</li>
        <li>The date format is "YYYY-MM-DD"</li>
        <li>The time format is "HH:mm:ss"</li>
      </ul>
      <p>Example: <code>CONFIG 2021-10-12 14:26:42 ...</code></p>
      <p>The first message written by VelmaParallelCmdLine for a given invocation is always a <code>CONFIG</code> message with the text:</p>
      <pre><code>VelmaParallelCmdLine: STARTING Parallel Processing  </code></pre>
      <p>When a VelmaParallelRunlog.txt file already exists, (e.g. for a re-start of an existing, partially-completed run) log messages are appended to the existing file.<br> Look for the <code>STARTING Parallel Processing</code> message to determine the start of separate runs when multiple runs are appended into one log file.</p>
      <p>The last message written in a given invocation of VelmaParalleCmdLine is a <code>CONFIG</code> message with the text</p>
      <pre><code>VelmaParallelCmdLine: FINISHED Parallel Processing ...</code></pre>
      <p>and includes <code>outcome=</code> and <code>finalExitStatus=</code> values.<br> When <code>outcome=FAILED</code> and <code>finalExitStatus=1</code>, it is preceeded by 2 log messages summarizing which reaches failed, and which reaches were prevented from running.<br> Example:</p>
      <pre><code>[ . . . ]
SEVERE 2021-10-12 14:26:51 VelmaParallelCmdLine: These reach outlets failed to run correctly: [2434, 3590]
WARNING 2021-10-12 14:26:51 VelmaParallelCmdLine: The failed reach outlets prevented these reaches from running: [1735, 2263, 3236]
CONFIG 2021-10-12 14:26:51 VelmaParallelCmdLine: FINISHED Parallel Processing outcome=FAILED finalExitStatus=1</code></pre>
      <h4><strong>Exit Status Codes</strong></h4>
      <p>Each reach that VelmaParallelCmdLine tries to run reports its exit status in an <code>INFO</code> message with the text:</p>
      <pre><code>... FINISHED reach outlet=<n> outcome=... status=...</code></pre>
      <ul>
        <li>The <code>outlet=</code> value is the reach outlet cell index location.</li>
        <li>The <code>outcome=</code> value is either <code>COMPLETED</code> or <code>FAILED</code></li>
        <li>The <code>status=</code> value is 0 when <code>outcome=COMPLETED</code>, otherwise it is != 0 (and is usually 1).</li>
      </ul>
      <p>Exit status messages indicate <strong>failure</strong> by a <strong>nonzero</strong> value ("1" in nearly every case).<br> The <em>only</em> exit status message value indicating complete success is zero ("0").<br> This applies to indivual reach message <code>status</code> values as well as the overall <code>finalExitStatus</code> value reported as the last message of a given VelmaParallelCmdLine invocation.</p>
      <h3>In Reach-Specific "fail-log" files</h3>
      <h4><strong>Filename and Contents</strong></h4>
      <p>As stated previously, the reach-specific fail-log files have a uniform naming format that includes the reach's outlet cell index location in the name. The contents are specific for that reach, and are a filtered selection of the error messages reported in the reach's own global state log file.</p>
      <h4><strong>Sometimes, There is Nothing to Say</strong></h4>
      <p>It's possible for a reach to fail without leaving anything for VelmaParallelCmdLine to write into a fail-log file.:</p>
      <ul>
        <li>No global state log file exists in the reach-specific <code>.\Results_<n></code> directory</li>
        <li>The global state log file cannot be opened for reading</li>
        <li>The global state log is empty, or contains no error messages.</li>
      </ul>
      <p>In any of these cases, VelmaParallelCmdLine <em>can</em> write a fail-log file, but has nothing <em>to</em> write. This can happen if the reach-specific simulation run failed very quickly (e.g. during initialization, before its own logger mechanism started), if the cause of the failure emitted no error messages, or if the failure somehow locks the reach's global state log file for read-access.<br> VelmaParallelCmdLine <em>does</em> write a fail-log file in these situations, but the contents will only report that it cannot report any actual error messages.<br> Look for the following messages in the fail-log file:</p>
      <pre><code>Reach outlet=<n> status indicated a failed run, but no error messages were found in the log file.</code></pre>
      <p>or</p>
      <pre><code>FAILURE INFO UNAVAILABLE: cannot find logfile=...</code></pre>
      <p>Which are indicators that this sort of failure has occurred.</p>
      <h4><strong>Sometimes, There is No Place to Write</strong></h4>
      <p>If creating the <code>.\FAILED_Results</code> directory itself fails, or if a fail-log file cannot be created, VelmaParallelCmdLine logs the failure in the VelmaParallelRunlog.txt file with a <code>WARNING</code> message that says:</p>
      <pre><code>Cannot create a failure-summary log for reach outlet=<n> : encountered exception=...</code></pre>
      <p>where <code><n></code> is the outlet cell index of the reach that failed.</p>
      <h4><strong>Exception Stack Traces Are <em>Not</em> Logged</strong></h4>
      <p>The fail-log files do not contain exception stack trace information. Although this information <em>is</em> emitted for some reach simulation failures, it is emitted directly to <code>stderr</code>, and is not "caught" by either the reach-specific or the top-level VelmaParallelRunlog logger mechanims. The only place to view exception stack trace information is the command line console, and this is complicated by the fact that all the reach simulation processes that VelmaParallelCmdLine starts echo logging and exception messages back to the console, in an asynchronous and interleaved fashion. To reproduce and capture the console messages (include exception stack traces) for a specific reach, consider re-running that reach by itself using the VelmaSimulatorAltCmdLine tool (mentioned in "Gathering Further Information" below).</p>
      <hr>
      <h2>Gathering Further Information</h2>
      <p>Determining the exact cause of a specific reach's failure to run correctly and completely may involve running that specific reach by itself. You can do that using your existing simulation configuration .xml and the (partially-completed) results directory tree that VelmaParallelCmdLine created by using the related VelmaSimulatorAltCmdline tool. Please refer to VelmaSimulatorAltCmdline's HowTo guide for further information.</p>
    </div>
  </body>
  <footer id="footer">
    <p>VELMA 2.2 DOCUMENTATION</p>
  </footer>
</html>