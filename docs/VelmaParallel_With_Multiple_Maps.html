<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width">
    <meta name="charset" content="utf-8">
    <link rel="stylesheet" type="text/css" href="public/css/style.css">
    <script src="https://requirejs.org/docs/release/2.3.7/minified/require.js"> </script>
    <script src="public/js/search.js" type="module"> </script>
    <script src="public/js/suggestion.js" type="module"> </script>
    <title> </title>
  </head>
  <body class="bg-primary">
    <div class="header blue-base">
      <nav class="navbar blue-base navbar-expand"><a class="navbar-brand" href="./index.html">VELMA 2.2 HOME</a>
        <ul class="navbar-nav no-bullets">
          <li class="nav-item dropdown">VELMA 2.0 Manual
            <ul class="nav-dropdown blue-light">
              <li class="nav-item"><a class="nav-link" href="./intro.html"><span>I. Intro</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./changes.html"><span>II. Changes from 1.0</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./about.html"><span>III. About</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./input_files.html"><span>IV. Input Files </span></a></li>
              <li class="nav-item"><a class="nav-link" href="./new_sim_config.html"><span>V. Sim Config</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./parameter_config.html"><span>VI. Parameter Config</span></a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">Appendicies
            <ul class="nav-dropdown blue-light">
              <li class="nav-item"><a class="nav-link" href="./appendix_1.html"><span>Overview of VELMA's Leaf-Stem-Root (LSR) Plant Biomass Submodel</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./appendix_2.html"><span>Initializing a Spatial Data Pool Using an ASCII Grid</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./appendix_3.html"><span>Creating Initial ASCII Grid Chemistry Spatial Data Pools</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./appendix_4.html"><span>Overview of VELMA Simulator Output</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./appendix_5.html"><span>Generating daily temperature and precipitation grids for running VELMA</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./appendix_6.html"><span>Hydrological and Biochemical Model Descriptions</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./appendix_7.html"><span>Creating Flat-Processed DEM Data For The VELMA Simulator</span></a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">Supplemental Info (VELMA 2.1)
            <ul class="nav-dropdown blue-light">
              <li class="nav-item"><a class="nav-link" href="./supplement-a1.html"><span>Organic Contaminant Modeling Using VELMA</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-a2.html"><span>Configure VELMA for Simulating Contaminant Fate and Transport</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-a3.html"><span>VELMA Contaminant Modeling Demonstration</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-a4.html"><span>Adding Stormwater Drains for Urban &amp; Mixed-Use Watershed Applications</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-b1.html"><span>Creating Flat-Processed DEM Data for the VELMA Simulator</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-b2.html"><span>JPDEM Cell Highlighter</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-b3.html"><span>JPDEM Flow Accumulation (Facc) Threshold Display</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-b4.html"><span>JPDEM Flow Test Tool</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-b5.html"><span>JPDEM Saving Data to Files</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-b6.html"><span>JPDEM User-Specified Map Borders</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-b7.html"><span>JPDEM User-Specified Border Mask</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-b8.html"><span>JPDEM for Viewing Map Differences</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-b9.html"><span>JPDEM Sub-Reach Delineations</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-b10.html"><span>Flow Path Modification with the JPDEM Channel Cutter</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-c1.html"><span>VELMA Reach Mapping</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-c2.html"><span>How to Run VELMA in Parallel Mode</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-c3.html"><span>Rationale for Parallel Velma and Reach Segmentation</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d1.html"><span>Acquisition &amp; Generation of VELMA Input Data</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d2.html"><span>Soil Data Mapping and Parameter Initialization</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d3.html"><span>Initialize a Spatial Data Pool Using an Ascii Grid</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d4.html"><span>Create Initial Soil and Plant Chemistry Spatial (ASCII Grid) Data Pools</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d5.html"><span>Create Land-zoning Maps for a VELMA Application</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d6.html"><span>Add Georeferenced Projection Information to VELMA Output ASCII Maps</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d7a.html"><span>Create Multiple-Location Weather Drivers</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d7b.html"><span>Development of Statistical Models Based on Monthly PRISM / Daymet Data</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d8.html"><span>Cell Data Writer Configuration</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d9.html"><span>Set Up VELMA biomass Outputs as Inputs to BlueSky</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-d10.html"><span>Default Tidewater Model Configuration</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-e1.html"><span>Mapping Surface Layer Permeabilities</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-e2.html"><span>VELMA Surface Chemistry Pools</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-e3.html"><span>Deposition of Surface Chemicals</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-e4.html"><span>Implementing Green Roof Applications</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-e5.html"><span>Irrigation Disturbance</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-e6.html"><span>Groundwater Storage Mechanism</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./supplement-e7.html"><span>Spatial Data Writer Key Words for Generating ASCII VELMA Outputs for Data Visualization</span></a></li>
            </ul>
          </li>
          <li class="nav-item dropdown"> <a class="nav-link" href="./dev_info.html"><span>Developer Info</span></a>
            <ul class="nav-dropdown blue-light">
              <li class="nav-item"><a class="nav-link" href="./GetVelma_ForEclipse.html"><span>Clone Github to Local Machine</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./CellSpecificBurnDisturbance_Configuration_Guide.html"><span>Cell Specific Burn Disturbance Config Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./Configuration_Checker_Guide.html"><span>Configuration Checker Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./DefaultSedimentModel_Configuration_Guide.html"><span>Default Sediment Model Config Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./Sediment_Output_Data_Summary.html"><span>Sediment Output Data Summary</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./ForestBurnLsrDisturbanceModel_Overview.html"><span>Forest Burn LSR Disturbance Model</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./JPDEM_ReachMapping_Demonstration.html"><span>JPDEM Reaching Mapping Demo</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./MinMaxAirT_WeatherDrivers.html"><span>Min Max Air Temp Weather Drivers</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./ModifySpatialDataByMap_Guide.html"><span>Modify Spatial Data by Map Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./ObsRunoff_and_NaNs.html"><span>OBS Runnoff and NaNs</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./OrganicContaminant_Overview.html"><span>Organic Contaminant Overview</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./OrganicContaminant_Remediation_Configuration_Guide.html"><span>Organic Contaminant Redemption Config Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./OrganicContaminant_Tracer_Configuration_Guide.html"><span>Organic Contaminant Tracer Config Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./ReachSpecificObservedRunnoff.html"><span>Reach Specific Observed Runnoff</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./SnowDepth_Initialization_Guide.html"><span>Snow Depth Initialization Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./TopoFiles_Output_Summary.html"><span>Topo Files Output Summary </span></a></li>
              <li class="nav-item"><a class="nav-link" href="./VelmaParallel_Error_Reports.html"><span>Velma Parallel Error Reports</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./VelmaParallel_With_Multiple_Maps.html"><span>Velma Parallel With Multiple Maps </span></a></li>
              <li class="nav-item"><a class="nav-link" href="./WaterDrainDisturbanceModel_Overview.html"><span>Water Drain Disturbance Model</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./VelmaSimulatorCmdLine_Overview.html"><span>Velma Sim Cmd Line Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./VelmaSimulatorAltCmdLine_Overview.html"><span>Velma Sim Alt Cmd Line Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./SurfaceEvaporation_Overview.html"><span>Surface Evaporation Overview</span></a></li>
              <li class="nav-item"> <a class="nav-link" href="./LccmTranslatorUtility_Overview.html"><span>LCCM-to-VELMA Translator Utility</span></a></li>
            </ul>
          </li>
          <li class="nav-item dropdown"> <a class="nav-link" href="./dev_utils.html"><span>Developer Utils</span></a>
            <ul class="nav-dropdown blue-light">
              <li class="nav-item"><a class="nav-link" href="./AscMapOct_Guide.html"><span>Ascii Map Oct Guide </span></a></li>
              <li class="nav-item"><a class="nav-link" href="./AscRangeMask_Guide.html"><span>Ascii Range Mask Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./MoeVelGenerator_Guide.html"><span>MOEA-to-VELMA Configuration Generator</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./NashSutcliffeCalculator_Guide.html"><span>Tool for Computing Nash-Sutcliffe Coefficients</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./NseQuarts_Guide.html"><span>NseQuarts Guide</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./VelmaSimRunner_QuickRef.html"><span>VelmaSimRunner Quick Reference</span></a></li>
              <li class="nav-item"><a class="nav-link" href="./VelmaSimRunner.html"><span>VelmaSimRunner Full Guide</span></a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
    <div class="modal" id="suggestionModal">
      <div class="modal-content"> <span class="close">&times;</span>
        <h2>Submit a Suggestion </h2>
        <form id="suggestionForm"> 
          <textarea class="suggestion_textbox" id="suggestionText" name="suggestionText" require="True" placeholder="Enter your suggestion here ..."> </textarea>
          <button class="submit_btn" type="submit">Submit</button>
        </form>
      </div>
    </div>
    <div class="main_body container" id="main_body">
      <div class="plus-sign">
        <p>+</p>
      </div>
      <h1>Running VelmaParallelCmdLine With Multiple Maps</h1>
      <h2>Overview</h2>
      <p><em>These instructions assume you are already familiar with running "single-map" VELMA simulations using the VelmaParallelCmdLine.</em></p>
      <p>VelmaParallelCmdLine allows some (or all) of a waterhshed's <em>independent</em> sub-reaches to be pre-computed by separate VelmaParallelCmdLine runs -- possibly using separate, smaller DEM sub-maps of the sub-reach areas.</p>
      <p>Applying this technique requires additional effort during simulation configuration, and there are constraints and limitations inherent in its use.</p>
      <p>If the constraints and limitations do not apply for your simulation goals, consider using this feature when you have a DEM map and watershed so large that flat-processing the entire DEM in JPDEM and running the full watershed in VELMA requires prohibitive amounts of computer time and memory.</p>
      <p>The following instructions describe how to break a map into two sections of two or more submaps: a single, "final" destination sub-map as one section, and one or more source sub-maps (that flow into the final sub-map) as the other section. These instructions can be applied recursively, using the results of a [destination, source(s)] pairing as the source for <em>another</em> downstream, destination sub-map. This allows any number of sub-map section pairs to be processed as a chain or tree of simulation runs, producing a final-final result.</p>
      <h2>Usage Details</h2>
      <h3>Preparation</h3>
      <ol>
        <li>Start by creating sub-maps from your overall, full DEM map.</li>
        <ul>
          <li>Each sub-map you create will be the DEM map for a VelmaParallelCmdLine run.</li>
          <li>Each sub-map must be completely contained within the full DEM map, although it can overlay some of the full DEM map's edges.</li>
          <li>One of the sub-maps must include the cell location of the full watershed's outlet. We'll refer to this sub-map as the "final" sub-map.</li>
          <li>The other sub-maps must overlap the final sub-map such that their terrain will flow water into the final sub-map in the overlaid area.</li>
        </ul>
      </ol>
      <ol>
        <li>Flat-process each sub-map.</li>
        <ul>
          <li>Unless your DEM topology explicitly requires a different choice, we recommend using JPDEM's "Flat-Process DEM Data (Experimental)" option.</li>
          <li>Use the same JPDEM flat-processing option for all your sub-maps.</li>
        </ul>
      </ol>
      <ol>
        <li>Find "primary" outlet locations for each of your flat-processed sub-maps.</li>
        <ul>
          <li>The primary outlet of each sub-map (<em>except</em> the final sub-map) must completely delineate a portion of the full watershed.<br> In this context, "completely" means that within the sub-map, the delineation is at least 2 cells "inside" the edge rows and columns of the sub-map, and is <em>independent</em>: no other delineations are required to "fill in" portions of its delineation area.</li>
          <li>Each sub-map's primary outlet must lie within the area of the sub-map that is common with (i.e. overlays) the final sub-map.</li>
        </ul>
      </ol>
      <ol>
        <li>Determine the location coordinates (x, y, and i) for each sub-map's primary outlet in the coordinate system of the final sub-map.</li>
        <ul>
          <li>The primary outlet of each sub-map is the transfer point between that sub-map and the final sub-map.</li>
          <li>Unlike the other sub-maps, the final sub-map's delineation is <em>dependent</em>: it is allowed to be incomplete, and dependent upon the other sub-maps to "fill in" portions of its delineation area.</li>
        </ul>
      </ol>
      <ol>
        <li>Find a sub-reach delineation for the final sub-map.</li>
        <ul>
          <li>The final sub-map must, at a minimum, include each sub-map's primary outlet (in its own map coordinates) as sub-reaches of its own delineation.</li>
          <li>The final sub-map may include sub-reach outlets in addition to the sub-map outlets, if you determine the final sub-map is large enough to make them necessary or desirable.</li>
        </ul>
      </ol>
      <ol>
        <li>Find sub-reach delineations for each (non-final) sub-map if/as necessary.</li>
        <ul>
          <li>If some or all of your sub-maps are still large enough, you may use JPDEM to identify sub-reach outlets in addition to the primary outlets for any or every one of the sub-maps.</li>
          <li>These sub-reach outlets must be specified for the <code>initialReachOutlets</code> parameter in the simulation configuration .xml file used to process the specific sub-map.</li>
          <li>Unlike a sub-map's primary outlet, a sub-map's sub-reach outlets (if any) are local to that sub-map: knowledge of them is not required by any of the other sub-maps when those sub-maps are run.</li>
        </ul>
      </ol>
      <h3>Configuration</h3>
      <p><strong>Create a VELMA Simulation Configuration .xml File for Each Sub-Map</strong><br> Each sub-map will be processed via a separate VelmaParallelCmdLine run with a separate, specific, .xml configuration file.<br> Each file .xml file must have some parameters set to common values, along with some parameters set to values unique for that file and its sub-map.</p>
      <p><strong>The following parameter values must be the same across all of the configuration .xml files:</strong></p>
      <ul>
        <li>Simulation Driver data extent (the <code>forcing_start</code> and <code>forcing_end</code> parmeter values)</li>
        <li>Simulation Start and End year (the <code>syear</code> and <code>eyear</code> parameter values)</li>
        <li>Simulation Loop count (the <code>numberOfLoops</code> parameter value)</li>
        <li>Surface and Soil Temperature model</li>
        <li>Cover types</li>
        <li>Soil types</li>
        <li>Any OrganicContaminantModel configurations</li>
      </ul>
      <p>Any and all Cover and Soil parameterizations must be common (i.e., exist with exactly the same parameterization values) across all sub-map .xml files, this does <em>not</em> mean that a given sub-map must <em>use</em> all of them. Different sub-map .xml files may specify different Cover and Soil id maps that ignore some of the common Cover and Soil parameterizations.</p>
      <p>Any OrganicContaminantModel configurations must be common (with the exact same parameterization values) in all sub-map .xmls so that contaminant amounts introduced at one sub-map are not "ingored" by other sub-maps.</p>
      <p><strong>The following parameters are specific (and different) for each configuration .xml file:</strong></p>
      <ul>
        <li>The "DEM File" (the <code>input_dem</code> parameter) value must be the sub-map (.asc file) that the configuration .xml file will be used with.</li>
        <li>The "Outlet X" and "Outlet Y" (the <code>outx</code> and <code>outy</code> parameters) value must be set to the primary outlet specified for that configuration file's sub-map.</li>
        <li>If you have determined sub-reach outlets for a given sub-map, the associated configuration .xml file's "Sub-Reach Mapping Controls" (its <code>initialReachOutlets</code> parameter) value must include the cell index locations for those sub-reaches.</li>
        <li>Any CellDataWriters specified in a configuration .xml file <em>must</em> have coordinates that lie within that specific sub-map's overall grid dimensions.</li>
      </ul>
      <p><strong>The final sub-map's configuration .xml file has an additional requirement:</strong></p>
      <ul>
        <li>The list of sub-reaches specified for the "Sub-Reach Mapping Controls" (its <code>initialReachOutlets</code> parameter) value must include each of the other sub-map's primary outlets (in final sub-map location index-coodinate values), in addition to any "local" sub-reach outlets you may have specified for the final sub-map.</li>
      </ul>
      <p><strong>Weather Model Considerations</strong><br> Different sub-maps <em>can</em> be run with different weather models, but unless you have compelling evidence that different sub-maps will benefit from different weather models, we recommend consistently using one type of weather model for all of the different sub-map configurations.</p>
      <p>You <em>can</em> set different parameterization values for each sub-map's weather (e.g. one sub-map's snow parameterization could very will differ from another's), and you can specify different driver files for different sub-map configurations. The driver files specified for given sub-map should be area-appropriate for that sub-map. The extent for all driver data files specified must be the <code>forcing_start</code> and <code>forcing_end</code> parmeter values that are common across all .xml files.</p>
      <p>If you are using the Spatial or Weighted-Spatial models, you <em>must</em> create separate weather station location files for each sub-map configuration file's <code>weatherLocationsDataFileName</code> parameter. The weather station location file for a given sub-map must specify only weather stations with locations within the sub-map, and location coordinates for the station must be provided in the sub-map's coordinate system.</p>
      <p><strong>Observed Data</strong><br> Observed runoff and chemistry data for the <code>input_runoff</code> and <code>input_stream_chem</code> parameters of a given sub-map are unique to that sub-map and its .xml file. However, like all driver data files, the extent of <em>all</em> observed-data files specified for <em>any</em> sub-map must be the <code>forcing_start</code> and <code>forcing_end</code> parmeter values that are common across all .xml files.<br> Observed-data can be left blank for any sub-map's .xml where suitable observed data is unavailable.</p>
      <p><strong>Disturbances</strong><br> Water Drain disturbances <strong>cannot</strong> be used with multiple-map simulation runs.</p>
      <p>The other disturbances types <strong>can</strong> be used with multiple-map simulations.</p>
      <p>Different sub-maps can specify different disturbances, but care must be exercised to ensure simulation consistency between the upstream sub-maps and the downstream, final sub-map. Any disturbance that applies across more than one sub-map must be specified in the configuration .xml for each sub-map where it applies, and with exactly the same parameterization, <em>except</em> for map-specific parameters like filter-maps or jagged-array data.</p>
      <p><strong>The Final Sub-Map's Relocation File</strong><br> You must create a Relocation File to use with the VelmaParallelCmdLine run of the final sub-map. The Relocation File is not specified in a parameter of the final sub-map's configuration .xml file, it is passed directly to the VelmaParallelCmdLine via the <code>--relocationFile=</code> argument when the final sub-map simulation is run.</p>
      <p>Each row in the relocation file maps an "upstream" <em>source</em> sub-map outlet (<code>iSource</code>) and its simulation results folder (<code>sourceLocationData</code>) to an adjacent "downstream" <em>destination</em> sub-reach (<code>iReach</code>) of the final sub-map, and a cell location within that sub-reach (<code>iUseAt</code>).</p>
      <p>The Relocation File's format is rows of comma-separated values (.csv data).<br> Each row must contain the following fields:</p>
      <pre><code>iReach, iUseAs, iSource, sourceLocationData</code></pre>
      <p>The <code>iReach</code> and <code>iUseAs</code> field values refer to the destination (i.e. final) sub-map.<br> The <code>iSource</code> and <code>sourceLocationData</code> field values refer to the source (i.e. the upstream, contributor) sub-map.<br> Here is the row format again, with annotation:</p>
      <pre><code>Destination Map | Source Map
iReach, iUseAs, | iSource, sourceLocationData
|       |         |        |
|       |         |        Fully-qualified path to source sub-map simulation results directory.
|       |         |        (Specifies the location of the source sub-map simulation run results.)
|       |         |
|       |         Cell location index of source sub-map outlet in source simulation map coordinates
|       |         (Specifies the source sub-map outlet location that "pours into" the final sub-map.)
|       |
|       Cell location index of source outlet in destination simulation map coordinates
|       (Translates iSource to final sub-map map coordinates.)
|
Cell location of outlet cell of sub-reach in destination simulation that iUseAs resides in.
(Tells VelmaParallel which sub-reach in the final sub-map the iUseAs location is in.)
 
Notes: 
* The "iUseAs" cell location lies within the final sub-map's sub-reach whose outlet cell location is "iReach".
- Caution: regarding "iUseAs" and "iReach" cell locations: if at any time a catchment is added by adding an outlet location, if along the flow path the new outlet location is between the iReach location and iUseAs location, the iReach location is no longer valid in the relocation file. The original iReach location must be updated to be the newly added outlet location.
* The source sub-map "iSource" (source-coordinates) location is the "isUseAs" (destination-coordinates) 
  location in the destination final sub-map.</code></pre>
      <p>The <code>sourceLocationData</code> field of each row specifies the directory paths of the (upstream contributor) sub-map results. It can be any directory containing the complete, appropriate, set of data files for a successful run of the sub-map with iSource as its outlet.</p>
      <p>If you begin creating your relocation file before running any of the upstream sub-map simulations, none of the directory paths you need to specify for <code>sourceLocationData</code> will exist.<br> If you are absolutely certain what the results directory path names will be, you can preemptively set the <code>sourceLocationData</code> field values.<br> However, since the relocation file is only required for the downstream, final sub-map, you can complete the relocation file after running the upstream sub-map simulations (see "Running the Simulatio" below).</p>
      <h3>Running the Simulation(s)</h3>
      <p>Each sub-map's (except for the final sub-map) simulation configuration .xml file is run via a separate, standard VelmaParallelCmdLine invocation.</p>
      <p>Since all of the sub-maps (again, except for the final sub-map) are independent delineation areas, it may be possible to start all of them simultaneously.</p>
      <p>Exactly how many of the sub-maps can be started together depends upon your hardware: you'll need to have a good idea about how much memory each sub-map requires in order to complete, and how much disk space its results will occupy.</p>
      <p>Once all the other sub-maps have successfully run to completion, fill in the <code>sourceFileLocationData</code> fields of the relocation file, and run the final sub-map via VelmaParallelCmdLine, specifying the relocation file to VelmaParallelCmdLine via the <code>--relocationFile=</code> argument.</p>
      <p>Example:</p>
      <pre><code>C:\Users\Meep\> java -Xmx4g -cp C:\Users\Meep\VELMA\JVelma.jar gov.epa.velmasimulator.VelmaParallelCmdLine C:\Users\Meep\Final_SubMap.xml --relocationFile="C:\Users\Meep\My Input Data\Final_SubMap_Relocations.csv" --maxProcesses=6</code></pre>
      <p>In the above example:</p>
      <ul>
        <li>The values passed are only <em>example</em> values: your actual values for the <code>-Xmx</code>, <code>--relocationFile</code>, and <code>--maxProcesses</code> arguments must be specific and appropriate for your simulation configuration's needs.</li>
        <li>Path and file names that include whitespace <em>must</em> be enclosed with double-quotes. Path and file names that do not include whitespace do not require double-quotes, but it is OK to include them.</li>
        <li>There must be <em>no</em> whitespace between the <code>=</code> characters used to pair VelmaParallelCmdLine arguments and their values.<br> E.g. <code>--maxProcesses=6</code> <em>NOT</em> <code>--maxProcesses = 6</code></li>
      </ul>
      <h2>Appendices</h2>
      <h3>General Limitations</h3>
      <ul>
        <li>
          <p>This feature was first introduced in VELMA 2.1.0.25. Older versions do not support it.</p>
        </li>
        <li>
          <p>This feature is <em>only</em> available via the <code>--relocationFile</code> command line option of VelmaParallelCmdLine.<br> It is <em>not</em> available via JVelma or VelmaSimulatorCmdLine.</p>
        </li>
        <li>
          <p>Although it is theoretically possible to use JPDEM's custom border file feature when flat-processing and delineating the sub-maps for multiple-map simulation runs, doing so is <em>strongly</em> discouraged. Use-cases with custom borders have <em>not</em> been tested.</p>
        </li>
        <li>
          <p>Water Drain disturbances cannot be configured across multiple-map simulation runs.</p>
        </li>
      </ul>
    </div>
  </body>
  <footer id="footer">
    <p>VELMA 2.2 DOCUMENTATION</p>
  </footer>
</html>